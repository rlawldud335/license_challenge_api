export const getAllChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL UNION SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge, license WHERE challenge.licenseId=license.licenseId ORDER BY challengeCreateDt DESC LIMIT "
export const getLicenseChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit FROM challenge, license WHERE challenge.licenseId=license.licenseId AND challengeCategory = '자격증' ORDER BY challengeCreateDt DESC LIMIT "
export const getOtherChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL AND challengeCategory = ? ORDER BY challengeCreateDt DESC LIMIT "
export const getChallenge = "SELECT challenge.*, license.licenseName, user.nickname AS 'leaderName', user.profileImage AS 'leaderProfileImage' FROM challenge, license, user WHERE challenge.licenseId=license.licenseId AND challenge.leaderId=user.userId AND challengeId = ?;"
export const createLicenseChallenge = "INSERT INTO license_challenge.challenge (challengeTitle, challengeCategory, licenseId, leaderId, proofMethod, proofAvailableDay, proofCount, proofCountOneDay, chgStartDt, chgEndDt, challengeTerm, challengeTitleImage, challengeIntroduction, goodProofImage, badProofImage, deposit, limitPeople, joinPeople) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,1);"
export const createOtherChallenge = "INSERT INTO license_challenge.challenge (challengeTitle, challengeCategory, leaderId, proofMethod, proofAvailableDay, proofCount, proofCountOneDay, chgStartDt, chgEndDt, challengeTerm, challengeTitleImage, challengeIntroduction, goodProofImage, badProofImage, deposit, limitPeople, joinPeople) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,1);"
export const deleteChallenge = "DELETE FROM license_challenge.challenge WHERE challengeId = ?;"
export const getOngoingChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId=license.licenseId AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt >= date(now()) UNION SELECT challenge.challengeId, challenge.challengeTitle, NULL AS licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId IS NULL AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt >= date(now()) ORDER BY challengeCreateDt DESC"
export const getEndedChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId=license.licenseId AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt < date(now()) UNION SELECT challenge.challengeId, challenge.challengeTitle, NULL AS licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId IS NULL AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt < date(now()) ORDER BY challengeCreateDt DESC"
export const searchChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.challengeIntroduction, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL AND concat(challenge.challengeTitle, challenge.challengeIntroduction) regexp ? UNION SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.challengeIntroduction, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt FROM challenge, license WHERE challenge.licenseId=license.licenseId AND concat(challenge.challengeTitle, license.licenseName, challenge.challengeIntroduction) regexp ? ORDER BY challengeCreateDt DESC LIMIT "
export const getAchievementRate = "SELECT challenge.challengeId, challenge.challengeTitle, challenge.challengeTerm, join_challenge.successCnt, join_challenge.failCnt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, join_challenge WHERE join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.challengeId=?"
export const enterChallenge_leader = "INSERT INTO join_challenge(challengeId, userId, successCnt, failCnt, pass) VALUES (LAST_INSERT_ID(),?,0,0,0)"
export const enterChallenge_follower = "INSERT INTO join_challenge(challengeId, userId, successCnt, failCnt, pass) VALUES (?,?,0,0,0)"