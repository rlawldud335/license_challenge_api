export const getAllChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL UNION SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge, license WHERE challenge.licenseId=license.licenseId ORDER BY challengeCreateDt DESC LIMIT "
export const getLicenseChallenges = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit FROM challenge, license WHERE challenge.licenseId=license.licenseId AND challengeCategory = '자격증' ORDER BY challengeCreateDt DESC LIMIT "
export const getOtherChallenges = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit, challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL AND challengeCategory = ? ORDER BY challengeCreateDt DESC LIMIT "
export const getOneChallenge = "SELECT challenge.*, license.licenseName, user.nickname AS 'leaderName', user.profileImage AS 'leaderProfileImage' FROM challenge, license, user WHERE challengeId=? AND challenge.leaderId=user.userId AND challenge.licenseId=license.licenseId UNION SELECT challenge.*, NULL AS licenseName, user.nickname AS 'leaderName', user.profileImage AS 'leaderProfileImage' FROM challenge, user WHERE challengeId=? AND challenge.leaderId=user.userId"
export const createLicenseChallenge = "INSERT INTO license_challenge.challenge (challengeTitle, challengeCategory, licenseId, leaderId, proofMethod, proofAvailableDay, proofCount, proofCountOneDay, chgStartDt, chgEndDt, challengeTerm, challengeTitleImage, challengeIntroduction, goodProofImage, badProofImage, deposit, limitPeople, joinPeople) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,1);"
export const createOtherChallenge = "INSERT INTO license_challenge.challenge (challengeTitle, challengeCategory, leaderId, proofMethod, proofAvailableDay, proofCount, proofCountOneDay, chgStartDt, chgEndDt, challengeTerm, challengeTitleImage, challengeIntroduction, goodProofImage, badProofImage, deposit, limitPeople, joinPeople) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,1);"
export const updateChallenge = "UPDATE challenge SET challengeTitle= ?, proofMethod = ?, proofAvailableDay = ?, proofCountOneDay = ?, challengeTitleImage = ?, challengeIntroduction = ?, goodProofImage= ?, badProofImage = ?, limitPeople= ? WHERE challengeId = ?"
export const deleteChallenge = "DELETE FROM license_challenge.challenge WHERE challengeId = ?;"
export const getOngoingChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId=license.licenseId AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt >= date(now()) UNION SELECT challenge.challengeId, challenge.challengeTitle, NULL AS licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId IS NULL AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt >= date(now()) ORDER BY challengeCreateDt DESC"
export const getEndedChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId=license.licenseId AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt < date(now()) UNION SELECT challenge.challengeId, challenge.challengeTitle, NULL AS licenseName, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, license, join_challenge WHERE challenge.licenseId IS NULL AND join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.chgEndDt < date(now()) ORDER BY challengeCreateDt DESC"
export const searchChallenge = "SELECT challenge.challengeId, challenge.challengeTitle, NULL as licenseName,  challenge.challengeIntroduction, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt FROM challenge WHERE challenge.licenseId IS NULL AND concat(challenge.challengeTitle, challenge.challengeIntroduction) regexp ? UNION SELECT challenge.challengeId, challenge.challengeTitle, license.licenseName, challenge.challengeIntroduction, challenge.proofCount, challenge.proofCountOneDay, challenge.challengeTerm, challenge.challengeTitleImage, challenge.deposit , challenge.chgStartDt,  challenge.chgEndDt, challenge.challengeCreateDt FROM challenge, license WHERE challenge.licenseId=license.licenseId AND concat(challenge.challengeTitle, license.licenseName, challenge.challengeIntroduction) regexp ? ORDER BY challengeCreateDt DESC LIMIT "
export const getAchievementRate = "SELECT challenge.challengeId, challenge.challengeTitle, challenge.challengeTerm, join_challenge.successCnt, join_challenge.failCnt, ROUND((join_challenge.successCnt/challenge.challengeTerm)*100) AS achievement_rate FROM challenge, join_challenge WHERE join_challenge.challengeId = challenge.challengeId AND join_challenge.userId=? AND challenge.challengeId=?"
export const enterChallenge_leader = "INSERT INTO join_challenge(challengeId, userId, successCnt, failCnt, pass) VALUES (?,?,0,0,0)"
export const enterChallenge_follower = "INSERT INTO join_challenge(challengeId, userId, successCnt, failCnt, pass) VALUES (?,?,0,0,0);" 
export const plusJoinPeople = "UPDATE challenge SET joinPeople = joinPeople+1 WHERE challengeId = ?;"
export const createProofPicture = "INSERT INTO proof_picture(challengeId, userId, proofImage, dailyReview, reportCnt, proof) VALUES(?, ?, ?, ?, 0, 0)"
export const getProofPicture = "SELECT proofImage FROM proof_picture WHERE challengeId = ? ORDER BY proofDt DESC LIMIT "
export const getProofPictureDetail = "SELECT pp.pictureId, pp.proofImage, u.nickname, pp.dailyReview, pp.proofDt, pp.reportCnt FROM proof_picture pp, user u WHERE pp.userId = u.userId AND pp.challengeId = ? AND pp.pictureId = ?"